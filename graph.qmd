---
title: "Graph 2"
format: html
execute: 
  echo: false
  message: false
  warning: false
---

```{r setup, include=FALSE}
# Loads libraries without displaying the code block
library(tidyverse)
# For data manipulation and visualization
```

```{r}
reef_life <- read_csv("reef_life_final.csv")
# Loads the data which I named reef_life_final.csv
# Reads and assigns the data to "reef_life"
```

```{r}
# Counts observations by species
# There was a bit of confusion as in ChatGPT, it said to add sort = TRUE into the count function
# I realized that it is not needed as the count() function automatically sorts the descending order
species_count <- reef_life %>%
  count(scientificName)

# Selects top 10 most common species
top_species <- species_count %>%
  top_n(10, wt = n)

# Filters the data for top species
top_species_data <- reef_life %>%
  semi_join(top_species, by = "scientificName")
```

```{r}
# Plots the given data
# It is helpful to see the 
ggplot(top_species_data, aes(x = decimalLongitude, y = decimalLatitude, color = scientificName)) +
  geom_point(alpha = 0.7, size = 2) +
  scale_color_brewer(type = "qual", palette = "Set2") +  
  labs(title = "Locations of Most Common Fish Species",
       x = "Longitude",
       y = "Latitude",
       color = "Species",
       caption = "Dataset credits to Reef Life Survey") +
  theme_minimal()
```

#### Ranked in the Order of Top Species
1. Labroides dimidiatus (Valenciennes, 1839)
2. Ophthalmolepis lineolata (Valenciennes, 1839)
3. Parma microlepis G端nther, 1862
4. Notolabrus gymnogenis (G端nther, 1862)
5. Atypichthys strigatus (G端nther, 1860)
6. Thalassoma lunare (Linnaeus, 1758)
7. Pictilabrus laticlavius (Richardson, 1840)
8. Trachinops taeniatus G端nther, 1861
9. Cheilodactylus fuscus Castelnau, 1879
10. Scorpis lineolata Kner, 1865

#### Ranked in the Order of Top Species (Common Name)
1. Common cleaner wrasse
2. Southern maori wrasse
3. White-ear scalyfin
4. Crimson banded wrasse
5. Mado
6. Crescent wrasse
7. Senator wrasse
8. Eastern hulafish
9. Red morwong
10. False pompano, Silver sweep, Sweep, Trumps, Windawindawi
