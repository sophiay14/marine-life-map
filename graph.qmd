---
title: "Graph 2"
format: html
execute: 
  echo: false
  message: false
  warning: false
---

```{r setup, include=FALSE}
# Loads libraries without displaying the code block
library(tidyverse)
# For data manipulation and visualization
```

```{r}
reef_life <- read_csv("reef_life_final.csv")
# Loads the data which I named reef_life_final.csv
# Reads and assigns the data to "reef_life"
```

```{r}
# Counts observations by species
# There was a bit of confusion as in ChatGPT, it said to add sort = TRUE into the count function
# I realized that it is not needed as the count() function automatically sorts the descending order
species_count <- reef_life %>%
  count(scientificName)

# Selects top 10 most common species
top_species <- species_count %>%
  top_n(10, wt = n)

# Filters the data for top species
top_species_data <- reef_life %>%
  semi_join(top_species, by = "scientificName")
```

```{r}
# Plots the given data
ggplot(top_species_data, aes(x = decimalLongitude, y = decimalLatitude, color = scientificName)) +
  geom_point(alpha = 0.7, size = 2) +
  scale_color_brewer(type = "qual", palette = "Set2") +  
  labs(title = "Locations of Most Common Fish Species",
       x = "Longitude",
       y = "Latitude",
       color = "Species",
       caption = "Dataset credits to Reef Life Survey") +
  theme_minimal()
```

```{r}
# The legend states the fish species in alphabetical order, not the actual top species list which is why I ordered them below so the viewer doesn't have to guess which fish are most common
# The common names of the fish can help people recognize them better as the species are probably more well known by their common names than by their scientific names
```

#### Ranked in the Order of Top Species
1. Labroides dimidiatus
2. Ophthalmolepis lineolata
3. Parma microlepis Günther
4. Notolabrus gymnogenis
5. Atypichthys strigatus
6. Thalassoma lunare
7. Pictilabrus laticlavius
8. Trachinops taeniatus Günther
9. Cheilodactylus fuscus Castelnau
10. Scorpis lineolata Kner

#### Ranked in the Order of Top Species (Common Name)
1. Common cleaner wrasse
2. Southern maori wrasse
3. White-ear scalyfin
4. Crimson banded wrasse
5. Mado
6. Crescent wrasse
7. Senator wrasse
8. Eastern hulafish
9. Red morwong
10. False pompano, Silver sweep, Sweep, Trumps, Windawindawi
